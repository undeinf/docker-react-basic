version: "3"

services: 
    web:
        stdin_open: true
        build: 
            context: .
            dockerfile: Dockerfile.dev
        ports: 
            - "3000:3000"
        volumes: 
            - /app/node_modules
            - .:/app
    tests:
        build:
            context: .
            dockerfile: Dockerfile.dev
        volumes: 
            - /app/node_modules
            - .:/app
        command: ["npm","run","test"]
    build-src:
        build: .
        ports: 
            - 8081:80




































# version: "3"

# services: 
#     web:
#         stdin_open: true
#         build: 
#             context: .
#             dockerfile: Dockerfile.dev
#         ports: 
#             - "3000:3000"
#         volumes: 
#             - /app/node_modules
#             - .:/app
#     tests:
#         stdin_open: true
#         build:
#             context: .
#             dockerfile: Dockerfile.dev
#         volumes: 
#             - /app/node_modules
#             - .:/app
#         command: ["npm","run","test"]
#     build:
#         build: .
#         links: 
#             - web
#         ports: 
#             - "8081:80"